<mat-dialog-content class="mat-typography">
  <mat-tab-group>
    <mat-tab label="Edit Template">
      <grid [cols]="3" [colTemplate]="'1fr'">
        <cell>
          <mat-form-field floatLabel="always">
            <mat-label>Template Name</mat-label>
            <input matInput placeholder="Name" [(ngModel)]="data.currentTemplate.name">
          </mat-form-field>
        </cell>
        <cell>
          <mat-form-field floatLabel="always">
            <mat-label>Label</mat-label>
            <input matInput placeholder="Name" [(ngModel)]="data.currentTemplate.label.content">
          </mat-form-field>
        </cell>
        <cell>
          <mat-form-field floatLabel="always">
            <mat-label>Label Position</mat-label>
            <mat-select [(ngModel)]="data.currentTemplate.label.position">
              <mat-option value="left">
                Left
              </mat-option>
              <mat-option value="top">
                Top
              </mat-option>
              <mat-option value="right">
                Right
              </mat-option>
              <mat-option value="bottom">
                Bottom
              </mat-option>
            </mat-select>
          </mat-form-field>
        </cell>
      </grid>

      <grid [cols]="3" [colTemplate]="'1fr'">
        <cell>
          <mat-form-field floatLabel="always">
            <mat-label>Icon Size</mat-label>
            <input matInput readonly [(ngModel)]="data.currentTemplate.icon.size">
            <mat-slider class="p-0" [max]="200" [min]="5" [(ngModel)]="data.currentTemplate.icon.size">
            </mat-slider>
          </mat-form-field>
        </cell>
        <cell>
          <mat-form-field floatLabel="always">
            <mat-label>Icon Color</mat-label>
            <mat-select [(ngModel)]="data.currentTemplate.icon.color">
              <mat-option *ngFor="let color of data.colorPallete" [value]="color.hex">
                {{color.hex}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </cell>
        <cell>
          <mat-form-field floatLabel="always">
            <mat-label>Icon Alignment</mat-label>
            <mat-select [(ngModel)]="data.currentTemplate.icon.alignment">
              <mat-option value="left">
                Left
              </mat-option>
              <mat-option value="center">
                Center
              </mat-option>
              <mat-option value="right">
                Right
              </mat-option>
            </mat-select>
          </mat-form-field>
        </cell>
      </grid>

      <grid [cols]="3" [colTemplate]="'1fr'">
        <cell>
          <mat-form-field floatLabel="always">
            <mat-label>Label Size</mat-label>
            <input matInput readonly [(ngModel)]="data.currentTemplate.label.size"
              [disabled]="data.currentTemplate.label.content.length == 0">
            <mat-slider class="p-0" [max]="200" [min]="5" [(ngModel)]="data.currentTemplate.label.size"
              [disabled]="data.currentTemplate.label.content.length == 0">
            </mat-slider>
          </mat-form-field>
        </cell>
        <cell>
          <mat-form-field floatLabel="always">
            <mat-label>Label Color</mat-label>
            <mat-select [(ngModel)]="data.currentTemplate.label.color"
              [disabled]="data.currentTemplate.label.content.length == 0">
              <mat-option *ngFor="let color of data.colorPallete" [value]="color.hex">
                {{color.hex}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </cell>
        <cell>
          <ng-container>
            <mat-form-field floatLabel="always">
              <mat-label>Label Alignment</mat-label>
              <mat-select [(ngModel)]="data.currentTemplate.label.alignment"
                [disabled]="data.currentTemplate.label.position == 'left' || data.currentTemplate.label.position == 'right' || data.currentTemplate.label.content.length == 0">
                <mat-option value="left">
                  Left
                </mat-option>
                <mat-option value="center">
                  Center
                </mat-option>
                <mat-option value="right">
                  Right
                </mat-option>
              </mat-select>
            </mat-form-field>
          </ng-container>
        </cell>
      </grid>
      <app-html-template [template]="data.currentTemplate"></app-html-template>
    </mat-tab>
    <mat-tab label="Choose Icon">
            <app-icon-finder [data]="data"></app-icon-finder>
    </mat-tab>
    <mat-tab label="Edit Global Color Pallete">

      <div class="color-pallete">
        <div *ngFor="let color of data.colorPallete; let i = index" [style.backgroundColor]="color.hex"
          [matMenuTriggerFor]="colorPicker" #paletteMenuTrigger>
          <mat-icon (click)="removeColor(i)" class="remove" color="warn">cancel</mat-icon>
          <mat-menu #colorPicker="matMenu">
            <style>
              color-sketch {
                width: 280px;
                height: 355px;
                margin-top: -8px;
                position: relative;
                margin-bottom: -16px;
                display: block;
              }

            </style>

            <div (click)="$event.stopPropagation()">
              <color-sketch color="#fff" (onChangeComplete)="handleChange($event,i)"></color-sketch>
            </div>
          </mat-menu>
        </div>

        <div content-align="center middle">
          <button (click)="addColor()" mat-icon-button>
            <mat-icon>add</mat-icon>
          </button>
        </div>
      </div>


    </mat-tab>
  </mat-tab-group>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancel</button>
  <button mat-button color="primary" [mat-dialog-close]="data" cdkFocusInitial>Save</button>
</mat-dialog-actions>
